---
order: 5
icon: pen-to-square
date: 2025-07-22
category:
  - Java技术栈
tag:
  - 常用类
---

# 常用类

## String

字符串String类型本身是final声明的，意味着不能继承String。且String字符串是常量，它们的值在创建之后不能更改，因此一旦对字符串进行修改，就会产生新对象。

在JDK8中，String对象的字符内容是存储在一个字符数组value[]中的；但是在JDK9中，底层使用byte[]数组。

### String的内存结构

因为字符串对象设计为不可变，那么所以字符串有常量池来保存很多常量对象。

JDK6中，字符串常量池在方法区。JDK7开始，就移到堆空间。

![alt text](<img/常用类 /1753102225631.png>)

![alt text](<img/常用类 /1753102249693.png>)

String str1 = “abc”; 与 String str2 = new String(“abc”);的区别：str2 首先指向堆中的一个字符串对象，然后堆中字符串的value数组指向常量池中常量对象的value数组。
![alt text](<img/常用类 /1753102315014.png>)

常量+常量：结果是常量池。且常量池中不会存在相同内容的常量。
常量与变量 或 变量与变量：结果在堆中。
拼接后调用intern方法：返回值在常量池中。

```java
@Test
public void test01(){
	String s1 = "hello";
	String s2 = "world";
	String s3 = "helloworld";
		
	String s4 = s1 + "world";//s4字符串内容也helloworld，s1是变量，"world"常量，变量 + 常量的结果在堆中
	String s5 = s1 + s2;//s5字符串内容也helloworld，s1和s2都是变量，变量 + 变量的结果在堆中
	String s6 = "hello" + "world";//常量+ 常量 结果在常量池中，因为编译期间就可以确定结果
		
	System.out.println(s3 == s4);//false
	System.out.println(s3 == s5);//false
	System.out.println(s3 == s6);//true
}

@Test
public void test02(){
	final String s1 = "hello";
	final String s2 = "world";
	String s3 = "helloworld";
	
	String s4 = s1 + "world";//s4字符串内容也helloworld，s1是常量，"world"常量，常量+常量结果在常量池中
	String s5 = s1 + s2;//s5字符串内容也helloworld，s1和s2都是常量，常量+ 常量 结果在常量池中
	String s6 = "hello" + "world";//常量+ 常量 结果在常量池中，因为编译期间就可以确定结果
		
	System.out.println(s3 == s4);//true
	System.out.println(s3 == s5);//true
	System.out.println(s3 == s6);//true
}

@Test
public void test03(){
	String s1 = "hello";
	String s2 = "world";
	String s3 = "helloworld";
		
	String s4 = (s1 + "world").intern();//把拼接的结果放到常量池中
	String s5 = (s1 + s2).intern();
		
	System.out.println(s3 == s4);//true
	System.out.println(s3 == s5);//true
}

@Test
public void test04(){
String str = "hello";
    String str2 = "world";
    String str3 ="helloworld";
    
    // concat方法拼接，哪怕是两个常量对象拼接，结果也是在堆。
    String str4 = "hello".concat("world");
    String str5 = "hello"+"world";
    
    System.out.println(str3 == str4);//false
    System.out.println(str3 == str5);//true
}
```

```java
public class TestString {
    String str = new String("good");
    char[] ch = { 't', 'e', 's', 't' };

    public void change(String str, char ch[]) {
        str = "test ok";
        ch[0] = 'b';
    }
    public static void main(String[] args) {
        TestString ex = new TestString();
        ex.change(ex.str, ex.ch);
        System.out.print(ex.str + " and ");
        System.out.println(ex.ch); // good and best
    }
}
```

### String常用API




## StringBuffer和StringBuilder


## 日期时间



## java比较器




## 系统相关类


## 数学相关类

